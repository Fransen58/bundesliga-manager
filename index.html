<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bundesliga Manager</title>
    <style>
        /* ... (previous styles remain unchanged) ... */
        .button-container button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .button-container button:not(:disabled) {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- ... (previous content remains unchanged) ... -->

    <h2>Die Tabelle</h2>
    <div class="table-container">
        <table id="main-table">
            <thead>
                <tr>
                    <th>Platz</th>
                    <th>Manager</th>
                    <th>Noten</th>
                    <th>Tore</th>
                    <th>Gegentore</th>
                    <th>11 des Tages</th>
                    <th>Assists</th>
                    <th>Gesamt</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Bent</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                <!-- ... (other rows remain unchanged) ... -->
            </tbody>
        </table>
        <div class="button-container">
            <button onclick="editTable('main-table')">Bearbeiten</button>
            <button onclick="saveTable('main-table')" disabled>Speichern</button>
            <button onclick="cancelEdit('main-table')" disabled>Abbrechen</button>
        </div>
    </div>

    <h2>Die Kader</h2>
    <div class="kader-section">
        <!-- ... (kader tables remain unchanged) ... -->
    </div>

    <script>
        let originalData = {};

        function editTable(tableId) {
            const table = document.getElementById(tableId);
            const rows = table.querySelectorAll('tbody tr');
            originalData[tableId] = [];

            rows.forEach((row, rowIndex) => {
                const cells = row.querySelectorAll('td');
                originalData[tableId][rowIndex] = [];

                cells.forEach((cell, cellIndex) => {
                    if (tableId === 'main-table' && (cellIndex === 0 || cellIndex === 1)) {
                        // Skip editing for Platz and Manager columns in main table
                        return;
                    }
                    originalData[tableId][rowIndex][cellIndex] = cell.textContent;
                    cell.contentEditable = true;
                });
            });

            toggleButtons(tableId, true);
        }

        function saveTable(tableId) {
            const table = document.getElementById(tableId);
            const rows = table.querySelectorAll('tbody tr');

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                cells.forEach(cell => {
                    cell.contentEditable = false;
                });
            });

            toggleButtons(tableId, false);
            // Here you could add code to save the data (e.g., to localStorage or send to a server)
        }

        function cancelEdit(tableId) {
            const table = document.getElementById(tableId);
            const rows = table.querySelectorAll('tbody tr');

            rows.forEach((row, rowIndex) => {
                const cells = row.querySelectorAll('td');
                cells.forEach((cell, cellIndex) => {
                    if (originalData[tableId][rowIndex] && originalData[tableId][rowIndex][cellIndex]) {
                        cell.textContent = originalData[tableId][rowIndex][cellIndex];
                    }
                    cell.contentEditable = false;
                });
            });

            toggleButtons(tableId, false);
        }

        function toggleButtons(tableId, isEditing) {
            const container = document.getElementById(tableId).nextElementSibling;
            const buttons = container.querySelectorAll('button');
            
            buttons[0].disabled = isEditing; // Edit button
            buttons[1].disabled = !isEditing; // Save button
            buttons[2].disabled = !isEditing; // Cancel button
        }
    </script>

    <a href="spieltagskader.html">Zu den Spieltagskadern</a>
</body>
</html>
