<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bundesliga Manager</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .logo {
            display: block;
            margin: 0 auto;
            max-width: 100%;
        }
        h1, h2 {
            text-align: center;
        }
        input[type="text"] {
            width: calc(25% - 10px);
            margin: 5px;
            padding: 5px;
        }
        button {
            display: block;
            margin: 10px 0;
        }
        #gespeicherterKader {
            margin-top: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <img src="path/to/your/logo.png" alt="Bundesliga Manager Logo" class="logo">
    <h1>Bundesliga Manager</h1>
    <h2>Fairness. Spaß. Wettkampf.</h2>

    <input type="text" id="managerName" placeholder="Dein Name" style="width: calc(100% - 10px);">

    <h3>Startelfspiele (11 Spieler)</h3>
    <div id="startelf">
        <input type="text" placeholder="Spieler 1">
        <input type="text" placeholder="Spieler 2">
        <input type="text" placeholder="Spieler 3">
        <input type="text" placeholder="Spieler 4">
        <input type="text" placeholder="Spieler 5">
        <input type="text" placeholder="Spieler 6">
        <input type="text" placeholder="Spieler 7">
        <input type="text" placeholder="Spieler 8">
        <input type="text" placeholder="Spieler 9">
        <input type="text" placeholder="Spieler 10">
        <input type="text" placeholder="Spieler 11">
    </div>
    <button onclick="speichereKader('startelf')">Speichern</button>

    <h3>Ersatzspieler (8 Spieler)</h3>
    <div id="ersatzspieler">
        <input type="text" placeholder="Ersatzspieler 1">
        <input type="text" placeholder="Ersatzspieler 2">
        <input type="text" placeholder="Ersatzspieler 3">
        <input type="text" placeholder="Ersatzspieler 4">
        <input type="text" placeholder="Ersatzspieler 5">
        <input type="text" placeholder="Ersatzspieler 6">
        <input type="text" placeholder="Ersatzspieler 7">
        <input type="text" placeholder="Ersatzspieler 8">
    </div>
    <button onclick="speichereKader('ersatzspieler')">Speichern</button>

    <button onclick="bearbeiteKader()">Bearbeiten der Kader</button>

    <div id="letzteAenderung"></div>
    <div id="gespeicherterKader"></div>

    <script>
        function speichereKader(typ) {
            const managerName = document.getElementById('managerName').value;
            if (!managerName) {
                alert('Bitte gib deinen Namen ein!');
                return;
            }

            const spieler = Array.from(document.getElementById(typ).getElementsByTagName('input')).map(input => input.value);
            
            let kader = JSON.parse(localStorage.getItem('kader')) || {};
            kader[managerName] = kader[managerName] || {};
            kader[managerName][typ] = spieler;

            localStorage.setItem('kader', JSON.stringify(kader));
            localStorage.setItem('letzteAenderung', new Date().toLocaleString());

            zeigeGespeichertenKader();
            zeigeLetzteAenderung();
        }

        function zeigeGespeichertenKader() {
            const kader = JSON.parse(localStorage.getItem('kader'));
            let html = '<h3>Gespeicherte Kader</h3>';
            
            if (kader) {
                for (const [manager, data] of Object.entries(kader)) {
                    html += `<h4>${manager}</h4>`;
                    html += '<table>';
                    html += '<tr><th>Position</th><th>Spieler</th></tr>';
                    
                    if (data.startelf) {
                        data.startelf.forEach((spieler, index) => {
                            html += `<tr><td>Startelf ${index + 1}</td><td>${spieler}</td></tr>`;
                        });
                    }
                    
                    if (data.ersatzspieler) {
                        data.ersatzspieler.forEach((spieler, index) => {
                            html += `<tr><td>Ersatz ${index + 1}</td><td>${spieler}</td></tr>`;
                        });
                    }
                    
                    html += '</table>';
                }
            } else {
                html += '<p>Noch keine Kader gespeichert.</p>';
            }

            document.getElementById('gespeicherterKader').innerHTML = html;
        }

        function zeigeLetzteAenderung() {
            const letzteAenderung = localStorage.getItem('letzteAenderung');
            if (letzteAenderung) {
                document.getElementById('letzteAenderung').textContent = `Letzte Änderung: ${letzteAenderung}`;
            }
        }

        function bearbeiteKader() {
            const managerName = document.getElementById('managerName').value;
            if (!managerName) {
                alert('Bitte gib deinen Namen ein, um deinen Kader zu bearbeiten!');
                return;
            }

            const kader = JSON.parse(localStorage.getItem('kader'));
            if (kader && kader[managerName]) {
                if (kader[managerName].startelf) {
                    const startelfInputs = document.getElementById('startelf').getElementsByTagName('input');
                    kader[managerName].startelf.forEach((spieler, index) => {
                        if (startelfInputs[index]) startelfInputs[index].value = spieler;
                    });
                }
                if (kader[managerName].ersatzspieler) {
                    const ersatzInputs = document.getElementById('ersatzspieler').getElementsByTagName('input');
                    kader[managerName].ersatzspieler.forEach((spieler, index) => {
                        if (ersatzInputs[index]) ersatzInputs[index].value = spieler;
                    });
                }
            } else {
                alert('Kein gespeicherter Kader für diesen Manager gefunden.');
            }
        }

        // Initialisierung
        zeigeGespeichertenKader();
        zeigeLetzteAenderung();
    </script>
</body>
</html>
